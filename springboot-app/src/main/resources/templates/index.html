<!DOCTYPE html>
<html lang="ja" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org/" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tanashin</title>
    <script src="https://kit.fontawesome.com/3c982ecd98.js" crossorigin="anonymous"></script>
    <link href="/css/bootstrap/bootstrap.min.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="/image/favicon.ico">
</head>
<body>
<!-- ↑↑これより上は各ページ共通なので変更しない↑↑ -->
    <main>
        <!-- <main>タグ内を各ページに合わせて変更 -->
        <div class="d-flex justify-content-end" sec:authorize="hasAuthority('ADMIN')">
            <div class="me-1">
                <button onclick="window.location.href='/logout'">ログアウト</button>
                <a href="/admin/post-work">作品販売をする</a>
                <a href="/admin/check-orders">購入情報</a>
            </div>
        </div>
        <div class="container work-width">
            <div class="row row-cols-2 row-cols-md-3">
                <div class="col mt-4" th:each="work : ${works}">
                    <div class="d-flex justify-content-center p-2" style="background-color: rgb(254, 247, 236);">
                        <div>
                            <a class="text-dark text-decoration-none" th:href="@{/works/{workId}(workId=${work.id})}">
                                <div th:if="${work.order}" class="d-flex justify-content-center position-relative">
                                    <img class="object-fit-contain work-image ordered-image" th:src="'/works/'+${work.id}+'/'+${work.images[0].name}" alt="イメージ画像">
                                    <h5 class="ordered">SOLD OUT</h5>
                                </div>
                                <div th:unless="${work.order}" class="d-flex justify-content-center">
                                    <img class="object-fit-contain work-image" th:src="'/works/'+${work.id}+'/'+${work.images[0].name}" alt="イメージ画像">
                                </div>
                                <div class="mt-2 ps-1">
                                    <h6 class="fw-bold" th:text="${work.name}"></h6>
                                    ¥<span th:text="${work.price}"></span>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
<!-- ↓↓これより下は各ページ共通なので変更しない↓↓ -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="/js/bootstrap/bootstrap.min.js"></script>
    <script src="/js/function.js"></script>
</body>
</html>