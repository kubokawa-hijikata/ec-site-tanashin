<!DOCTYPE html>
<html lang="ja" xmlns:th="https://www.thymeleaf.org/">
<body>
  <header th:fragment="headerFlagment" class="mb-2">
    <nav class="navbar navbar-expand-md nav-bg fixed-top">
      <div class="container-fluid nav-container-margin">
        <button class="navbar-toggler collapsed" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <!-- offcanvas-start でハンバーガーメニューを押下した際に左側から現れるか(offcanvas-start)、
         右側から現れるかを決めれる(offcanvas-end) -->
        <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Offcanvas</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
              <li class="nav-item">
                <a class="nav-link mx-1" aria-current="page" href="/">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link mx-1" href="/about">About</a>
              </li>
              <li class="nav-item">
                <a class="nav-link mx-1" href="/contact">Contact</a>
              </li>

              <li class="nav-item" sec:authorize="hasAuthority('ADMIN')">
                <a class="nav-link mx-1" href="/admin/post-work">作品販売</a>
              </li>
              <li class="nav-item" sec:authorize="hasAuthority('ADMIN')">
                <a class="nav-link mx-1" href="/admin/check-orders">購入情報</a>
              </li>
              <li class="nav-item" sec:authorize="hasAuthority('ADMIN')">
                <button id="logout" class="nav-link mx-1">ログアウト</button>
              </li>

            </ul>
            <ul class="ps-0 justify-content-end flex-grow-1 nav-rules-container">
              <li class="nav-item list-unstyled mt-3">
                  <a class="nav-link nav-rules"  href="/privacy">プライバシーポリシー</a>
              </li>
              <li class="nav-item list-unstyled mt-2">
                  <a class="nav-link nav-rules"  href="/law">特定商取引法に基づく表記</a>
              </li>
            </ul>
          </div>
          </div>
      </div>
      <div class="cart-container d-flex">
        <a class="text-dark" th:href="@{/orders}">
          <button class="border-0" style="background-color: #FFFFFF;">
            <i class="fa-sharp fa-solid fa-cart-shopping"></i>
            <span th:if="${cartSize} ne 0 AND ${cartSize}" class="cart-number d-flex justify-content-center align-items-center" th:text="${cartSize}"></span>
          </a>
        </form>
      </div>
    </nav>
    <h1 class="fw-bold mt-4 text-center">田中工房</h1>
  </header>
</body>
</html>